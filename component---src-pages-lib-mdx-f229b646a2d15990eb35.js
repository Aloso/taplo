(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{kmHC:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return s})),a.d(t,"default",(function(){return r}));var n=a("zLVn"),i=(a("q1tI"),a("7ljp")),l=a("jOii"),s={},b={_frontmatter:s},o=l.a;function r(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(i.b)(o,Object.assign({},b,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"rust"},"Rust"),Object(i.b)("p",null,"The full API documentation with examples is available ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://docs.rs/taplo/"}),"here"),"."),Object(i.b)("h2",{id:"installation"},"Installation"),Object(i.b)("p",null,"The library is published at ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://crates.io/crates/taplo"}),"Crates.io"),"."),Object(i.b)("p",null,"To use the latest version, add it to your dependencies:"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},'taplo = "*"')),Object(i.b)("p",null,"The available features can be found in the ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://docs.rs/taplo/"}),"documentation"),"."),Object(i.b)("h2",{id:"features"},"Features"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Linting")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Validation (based on JSON schema)")," with the help of ",Object(i.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/GREsau/schemars"}),"Schemars")," and ",Object(i.b)("a",Object.assign({parentName:"li"},{href:"https://github.com/tamasfe/verify"}),"Verify")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Lossless syntax-tree")," every token is preserved as-is"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"JSON-like DOM Tree")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Serialization To Other Formats")," with ",Object(i.b)("a",Object.assign({parentName:"li"},{href:"https://serde.rs/"}),"Serde")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"DOM Manipulation")," (",Object(i.b)("strong",{parentName:"li"},"WIP"),") Rewriting parts of the DOM while not touching anything else"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Formatting")," With configurable options"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Scoped Formatting Options")," Formatting options that affect only a part of the document")),Object(i.b)("h2",{id:"comparison-to-toml-rs"},"Comparison To ",Object(i.b)("a",Object.assign({parentName:"h2"},{href:"https://github.com/alexcrichton/toml-rs"}),"toml-rs")),Object(i.b)("p",null,Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/alexcrichton/toml-rs"}),"toml-rs")," focuses more on the data inside TOML documents, while Taplo cares about the TOML document itself, the position of comments is just as important as the data."),Object(i.b)("p",null,"While there is some overlap in functionality, the two tools serve different purposes, in fact ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"/cli"}),"Taplo CLI")," actually uses ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/alexcrichton/toml-rs"}),"toml-rs")," for reading its own configuration file."),Object(i.b)("p",null,"All this also means, that Taplo will always be slower by nature, however not by much (",Object(i.b)("em",{parentName:"p"},"as of Taplo ",Object(i.b)("inlineCode",{parentName:"em"},"0.1.0")),"):"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{}),"test bench_taplo_parse          ... bench:     109,804 ns/iter (+/- 1,187)\ntest bench_taplo_parse_validate ... bench:     220,236 ns/iter (+/- 6,148)\ntest bench_toml_rs              ... bench:     140,089 ns/iter (+/- 1,392)\n")),Object(i.b)("h1",{id:"javascript"},"JavaScript"),Object(i.b)("p",null,"Taplo can also be used in Node.js and browsers that support running ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://webassembly.org"}),"WebAssembly"),",\nit has no additional dependencies and is contained in a single ",Object(i.b)("inlineCode",{parentName:"p"},".js")," file."),Object(i.b)("h2",{id:"installation-1"},"Installation"),Object(i.b)("p",null,"The library is available as a NPM package ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://www.npmjs.com/package/@taplo/lib"}),"here"),"."),Object(i.b)("p",null,"Install with Yarn:"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"yarn add @taplo/lib")),Object(i.b)("p",null,"Or with NPM:"),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"npm install --save @taplo/lib")),Object(i.b)("h2",{id:"features-1"},"Features"),Object(i.b)("p",null,"The features are limited compared to the Rust library. There are plans to expose everything that Taplo can offer, however it is not trivial and requires some effort."),Object(i.b)("p",null,"Currently only a high-level API is provided for the following:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Linting")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Validation (based on JSON schema)")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Formatting"),": With configurable options"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"JSON Conversion"),": From/to JavaScript objects and JSON strings")),Object(i.b)("p",null,"TypeScript typings and documentation are available."),Object(i.b)("h2",{id:"usage"},"Usage"),Object(i.b)("p",null,"Only a single ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"http://localhost:8080/api/javaScript/classes/_index_.taplo/#class-taplo"}),Object(i.b)("inlineCode",{parentName:"a"},"Taplo"))," class is exported, and every operation can be done through it."),Object(i.b)("p",null,"It must be initialized asynchronously with its ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"/api/javaScript/classes/_index_.taplo/#initialize"}),Object(i.b)("inlineCode",{parentName:"a"},"initialize"))," method, ",Object(i.b)("strong",{parentName:"p"},"any attempts to create it with ",Object(i.b)("inlineCode",{parentName:"strong"},"new")," will throw an error"),".\nThis is needed because the WebAssembly module has to be compiled before use."),Object(i.b)("p",null,"The initialization is rather expensive, but it has to be done once and subsequent calls to ",Object(i.b)("inlineCode",{parentName:"p"},"initialize")," will be basically free."),Object(i.b)("p",null,"An example usage:"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),'import { Taplo } from "taplo";\n\nconst toml = await Taplo.initialize();\n\nconst formatted = toml.format("   [lib]   ");\nconsole.assert(formatted === "[lib]\\n");\n\nconst obj = toml.decode<{ key: boolean }>("key = true");\nconsole.assert(obj.key);\n')))}r.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-lib-mdx-f229b646a2d15990eb35.js.map